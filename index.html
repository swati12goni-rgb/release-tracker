<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Release Tracker</title>
<style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        margin:0;
        padding:0;
        background:#f4f6f8;
        color:#333;
    }

    header {
        background:#2F4F4F;
        color:white;
        padding:20px 0;
        text-align:center;
        box-shadow:0 2px 5px rgba(0,0,0,0.1);
    }
    header h1 { margin:0; font-size:28px; letter-spacing:1px; }

    main {
        padding:20px;
        max-width:1200px;
        margin:auto;
    }

    table {
        width:100%;
        border-collapse:collapse;
        background:#fff;
        box-shadow:0 2px 5px rgba(0,0,0,0.1);
    }
    th, td {
        padding:12px 15px;
        border:1px solid #ddd;
        font-size:14px;
    }
    th { background:#2F4F4F; color:white; text-align:center; }
    td { text-align:left; }
    td input, td select {
        width: 100%;
        padding:5px;
        font-size:14px;
        border:1px solid #ccc;
        border-radius:4px;
        box-sizing:border-box;
    }
    td.action button {
        padding:5px 10px;
        background:#2F4F4F;
        color:white;
        border:none;
        border-radius:4px;
        cursor:pointer;
    }
    td.action button:hover { background:#556B2F; }

    footer {
        background:#2F4F4F;
        color:white;
        text-align:center;
        padding:15px 0;
        margin-top:40px;
        font-size:14px;
        letter-spacing:0.5px;
    }
    #addRowBtn, #clearBtn {
        margin-top:15px;
        padding:8px 15px;
        background:#2F4F4F;
        color:white;
        border:none;
        border-radius:4px;
        cursor:pointer;
        font-weight:600;
        transition:0.3s;
    }
    #addRowBtn:hover, #clearBtn:hover { background:#556B2F; }
</style>
</head>
<body>

<header>
    <h1>Release Tracker</h1>
</header>

<main>
    <table id="buildTable">
        <thead>
            <tr>
                <th>Date</th>
                <th>Build</th>
                <th>Description</th>
                <th>Platform</th>
                <th>Note</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <button id="addRowBtn" onclick="addRow()">Add New Row</button>
    <button id="clearBtn" onclick="clearAll()">Clear All</button>
</main>

<footer>
    &copy; 2025 Release Tracker. All Rights Reserved.
</footer>

<script>
function saveTable() {
    localStorage.setItem("releaseData", document.getElementById('buildTable').innerHTML);
}

function loadTable() {
    const saved = localStorage.getItem("releaseData");
    if (saved) {
        document.getElementById('buildTable').innerHTML = saved;

        // Reattach delete buttons
        document.querySelectorAll("#buildTable tbody tr").forEach(row => {
            const actionCell = row.lastElementChild;
            const deleteBtn = actionCell.querySelector("button");
            if (deleteBtn) {
                deleteBtn.onclick = () => {
                    row.remove();
                    saveTable();
                };
            }
        });
    }
}

function addRow() {
    const tableBody = document.getElementById('buildTable').querySelector('tbody');
    const row = tableBody.insertRow();

    // Date input
    const dateCell = row.insertCell();
    const dateInput = document.createElement('input');
    dateInput.type = 'date';
    dateCell.appendChild(dateInput);

    // Build input
    const buildCell = row.insertCell();
    const buildInput = document.createElement('input');
    buildInput.type = 'text';
    buildInput.placeholder = 'Enter Build';
    buildCell.appendChild(buildInput);

    // Description input
    const descCell = row.insertCell();
    const descInput = document.createElement('input');
    descInput.type = 'text';
    descInput.placeholder = 'Enter Description';
    descCell.appendChild(descInput);

    // Platform dropdown
    const platformCell = row.insertCell();
    const platformSelect = document.createElement('select');
    const platforms = [
        "COMCAST-1217563", "COX-1217568", "PLATCO-1217572",
        "ROGERS-1217570", "SHAW-1217571", "VIZIO-1217562",
        "SAMSUNG-1217555", "LG-1217569", "XBOX-1217569",
        "WINDOWS-1217556", "VIDAA-1217574"
    ];
    platforms.forEach(opt => {
        const option = document.createElement('option');
        option.value = option.textContent = opt;
        platformSelect.appendChild(option);
    });
    platformCell.appendChild(platformSelect);

    // Note input
    const noteCell = row.insertCell();
    const noteInput = document.createElement('input');
    noteInput.type = 'text';
    noteInput.placeholder = 'Enter Note';
    noteCell.appendChild(noteInput);

    // Action cell with Save button
    const actionCell = row.insertCell();
    actionCell.classList.add("action");
    const saveBtn = document.createElement('button');
    saveBtn.textContent = 'Save';
    saveBtn.onclick = () => {
        dateCell.textContent = dateInput.value;
        buildCell.textContent = buildInput.value;
        descCell.textContent = descInput.value;
        platformCell.textContent = platformSelect.value;
        noteCell.textContent = noteInput.value;

        // Replace Save button with Delete button
        actionCell.innerHTML = '';
        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = 'Delete';
        deleteBtn.onclick = () => {
            row.remove();
            saveTable();
        };
        actionCell.appendChild(deleteBtn);

        saveTable();
    };
    actionCell.appendChild(saveBtn);
}

function clearAll() {
    if (confirm("Are you sure you want to clear all saved data?")) {
        localStorage.clear();
        location.reload();
    }
}

window.onload = loadTable;
</script>

</body>
</html>
